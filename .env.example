# ===================================
# FightRise Environment Configuration
# ===================================
# Copy this file to .env and fill in your values
# See docs/DISCORD_SETUP.md and docs/STARTGG_SETUP.md for detailed setup instructions

# ===================================
# Database (PostgreSQL)
# ===================================
# Docker default: postgresql://fightrise:fightrise@localhost:5432/fightrise
DATABASE_URL="postgresql://user:password@localhost:5432/fightrise"

# ===================================
# Redis (for BullMQ job queues)
# ===================================
# Docker default: redis://localhost:6379
REDIS_URL="redis://localhost:6379"

# ===================================
# Discord Bot Configuration
# ===================================
# Get these from: https://discord.com/developers/applications
# See docs/DISCORD_SETUP.md for step-by-step instructions

# Bot token (Bot tab → Token → Reset Token)
# CRITICAL: Never commit this to version control
DISCORD_TOKEN="your-bot-token"

# Application ID (General Information → Application ID)
DISCORD_CLIENT_ID="your-client-id"

# OAuth2 Client Secret (OAuth2 → General → Client Secret)
DISCORD_CLIENT_SECRET="your-client-secret"

# ===================================
# Start.gg API Configuration
# ===================================
# Get these from: https://start.gg/admin/profile/developer
# See docs/STARTGG_SETUP.md for step-by-step instructions

# API Token (Developer Settings → Create new token)
# CRITICAL: Copy immediately after creation - cannot be viewed again
STARTGG_API_KEY="your-startgg-api-key"

# OAuth2 (optional - for advanced user authentication)
# STARTGG_CLIENT_ID="your-startgg-oauth-client-id"
# STARTGG_CLIENT_SECRET="your-startgg-oauth-client-secret"

# ===================================
# NextAuth Configuration
# ===================================
# Web portal URL (where the Next.js app is hosted)
NEXTAUTH_URL="http://localhost:3000"

# Secret for encrypting sessions (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32"

# ===================================
# Encryption Configuration (SECURITY)
# ===================================
# Used to encrypt OAuth tokens at rest in the database
# CRITICAL: Keep this key secure - losing it means losing access to encrypted tokens
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY="generate-with-openssl-rand-base64-32"

# Previous encryption key for key rotation (optional)
# Set this to the old key when rotating, then remove after re-encryption complete
# ENCRYPTION_KEY_PREVIOUS=""

# ===================================
# OAuth Redirect URIs
# ===================================
# These must be registered in your Discord/Start.gg application settings
# Development values shown - update for production

# Discord OAuth callback (register in Discord Developer Portal → OAuth2 → Redirects)
DISCORD_REDIRECT_URI="http://localhost:3000/api/auth/callback/discord"

# Start.gg OAuth callback (register in Start.gg Developer Settings → OAuth Applications)
STARTGG_REDIRECT_URI="http://localhost:3000/api/auth/callback/startgg"
